{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","response","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","style","margin","credits","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","exact","path","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"qZAGaA,EAAY,yDAAM,WAAMC,GAAN,eAAAC,EAAA,sEACNC,IAAMC,IAAI,qBADJ,OACvBC,EADuB,OAG7BJ,EAAS,CAAEK,KCNa,aDMKC,QAASF,EAASG,OAHlB,2CAAN,uDAMZC,EAAc,SAAAC,GAAK,8CAAI,WAAMT,GAAN,eAAAC,EAAA,sEACXC,IAAMQ,KAAK,cAAeD,GADf,OAC5BL,EAD4B,OAGlCJ,EAAS,CAAEK,KCZa,aDYKC,QAASF,EAASG,OAHb,2CAAJ,uD,iBEJ1BI,E,iLACM,IAAD,OACP,OACE,kBAAC,IAAD,CACEC,KAAK,SACLC,YAAY,yBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAI,EAAKM,MAAMP,YAAYC,IACvCO,UAAWC,8CAEX,4BAAQC,UAAU,OAAlB,oB,GAVeC,aAgBRC,cAAQ,KAAMC,EAAdD,CAAuBT,GChBhCW,E,wLAEF,OAAQC,KAAKR,MAAMS,MACjB,KAAK,KACH,OACF,KAAK,EACH,OACE,4BACE,uBAAGC,KAAK,gBAAR,sBAGN,QACE,MAAO,CACL,wBAAIC,IAAI,KACN,kBAAC,EAAD,OAEF,wBAAIA,IAAI,IAAIC,MAAO,CAAEC,OAAQ,WAA7B,YACYL,KAAKR,MAAMS,KAAKK,SAE5B,wBAAIH,IAAI,KACN,uBAAGD,KAAK,eAAR,e,+BAOR,OACE,6BACE,yBAAKP,UAAU,eACb,kBAAC,IAAD,CACEY,GAAIP,KAAKR,MAAMS,KAAO,WAAa,IACnCN,UAAU,kBACVO,KAAK,KAHP,UAOA,wBAAIP,UAAU,SAASK,KAAKQ,uB,GArCjBZ,aAgDNC,mBAJf,YACE,MAAO,CAAEI,KADwB,EAARA,QAIZJ,CAAyBE,GC1CzBU,EATC,WACd,OACE,yBAAKL,MAAO,CAAEM,UAAW,WACvB,uCADF,qCCGEC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAElBC,E,4LAEFb,KAAKR,MAAMhB,c,+BAIX,OACE,yBAAKmB,UAAU,aACb,kBAAC,IAAD,KACE,6BACE,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOmB,OAAK,EAACC,KAAK,IAAIC,UAAWP,IACjC,kBAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,kBAAC,IAAD,CAAOI,KAAK,eAAeC,UAAWJ,W,GAbhChB,aAqBHC,cAAQ,KAAMC,EAAdD,CAAuBgB,GC5BvBI,cAAgB,CAC7BhB,KCFa,WAAgC,IAAvBiB,EAAsB,uDAAd,KAAMC,EAAQ,uCAC5C,OAAQA,EAAOrC,MACb,INJsB,aMKpB,OAAOqC,EAAOpC,UAAW,EAC3B,QACE,OAAOmC,MCGPE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACP,kBAAC,IAAD,CAAUN,MAAOA,GACf,kBAAC,EAAD,OAEFO,SAASC,eAAe,W","file":"static/js/main.923ce7f2.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { FETCH_USER } from './types';\r\n\r\nexport const fetchUser = () => async dispatch => {\r\n  const response = await axios.get('/api/current_user');\r\n\r\n  dispatch({ type: FETCH_USER, payload: response.data });\r\n};\r\n\r\nexport const handleToken = token => async dispatch => {\r\n  const response = await axios.post('/api/stripe', token);\r\n\r\n  dispatch({ type: FETCH_USER, payload: response.data });\r\n};\r\n","export const FETCH_USER = 'fetch_user';\r\n","import React, { Component } from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nclass Payments extends Component {\r\n  render() {\r\n    return (\r\n      <StripeCheckout\r\n        name=\"Emaily\"\r\n        description=\"$5 for 5 email credits\"\r\n        amount={500}\r\n        token={token => this.props.handleToken(token)}\r\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\r\n      >\r\n        <button className=\"btn\">Add Credits</button>\r\n      </StripeCheckout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, actions)(Payments);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Payments from './Payments';\r\n\r\nclass Header extends Component {\r\n  renderContent() {\r\n    switch (this.props.auth) {\r\n      case null:\r\n        return;\r\n      case false:\r\n        return (\r\n          <li>\r\n            <a href=\"/auth/google\">Login With Google</a>\r\n          </li>\r\n        );\r\n      default:\r\n        return [\r\n          <li key=\"1\">\r\n            <Payments />\r\n          </li>,\r\n          <li key=\"3\" style={{ margin: '0 10px' }}>\r\n            Credits: {this.props.auth.credits}\r\n          </li>,\r\n          <li key=\"2\">\r\n            <a href=\"/api/logout\">Logout</a>\r\n          </li>\r\n        ];\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <nav>\r\n        <div className=\"nav-wrapper\">\r\n          <Link\r\n            to={this.props.auth ? '/surveys' : '/'}\r\n            className=\"left brand-logo\"\r\n            href=\"/\"\r\n          >\r\n            Emaily\r\n          </Link>\r\n          <ul className=\"right\">{this.renderContent()}</ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ auth }) {\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from 'react';\r\n\r\nconst Landing = () => {\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <h1>Emaily!</h1>\r\n      Collect feedback from your users\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nimport Header from './Header';\r\nimport Landing from './Landing';\r\nconst Dashboard = () => <h2>Dashboard</h2>;\r\nconst SurveyNew = () => <h2>SurveyNew</h2>;\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchUser();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <BrowserRouter>\r\n          <div>\r\n            <Header />\r\n            <Route exact path=\"/\" component={Landing}></Route>\r\n            <Route exact path=\"/surveys\" component={Dashboard}></Route>\r\n            <Route path=\"/surveys/new\" component={SurveyNew}></Route>\r\n          </div>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, actions)(App);\r\n","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer\r\n});\r\n","import { FETCH_USER } from '../actions/types';\r\n\r\nexport default function(state = null, action) {\r\n  switch (action.type) {\r\n    case FETCH_USER:\r\n      return action.payload || false;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import 'materialize-css/dist/css/materialize.min.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}